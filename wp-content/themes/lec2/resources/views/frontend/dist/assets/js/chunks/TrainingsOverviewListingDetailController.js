(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{910:function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getPrototypeOf = __webpack_require__(27);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(17);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(19);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(28);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(29);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _abstract = __webpack_require__(94);\n\nvar _abstract2 = _interopRequireDefault(_abstract);\n\nvar _urlHelper = __webpack_require__(323);\n\nvar _urlHelper2 = _interopRequireDefault(_urlHelper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TrainingsOverviewListingDetailController = function (_AbstractController) {\n  (0, _inherits3.default)(TrainingsOverviewListingDetailController, _AbstractController);\n\n  function TrainingsOverviewListingDetailController() {\n    (0, _classCallCheck3.default)(this, TrainingsOverviewListingDetailController);\n    return (0, _possibleConstructorReturn3.default)(this, (TrainingsOverviewListingDetailController.__proto__ || (0, _getPrototypeOf2.default)(TrainingsOverviewListingDetailController)).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(TrainingsOverviewListingDetailController, [{\n    key: 'main',\n    value: function main() {\n      this.initTrainingTabs();\n      this.handleSelectExecutionOfTraining();\n    }\n  }, {\n    key: 'initTrainingTabs',\n    value: function initTrainingTabs() {\n      var $trainingCard = $('.training-type');\n\n      if ($trainingCard.length) {\n        $trainingCard.on('click', function () {\n          var getDataTarget = $(this).attr('data-target');\n          var typeIndex = $(this).data('index');\n\n          $trainingCard.removeClass('selected');\n          $(this).addClass('selected');\n          $('.training-body .training-container').removeClass('show');\n          $('.training-body ' + getDataTarget).addClass('show');\n          $('.agenda-block .container').removeClass('show');\n          $('.agenda-block ' + getDataTarget).addClass('show');\n\n          // Set index to url\n          _urlHelper2.default.appendQuery({\n            type: typeIndex\n          });\n        });\n\n        // Type index from url\n        var urlTypeIndex = _urlHelper2.default.getQuery().type;\n        var $targetCard = $('.training-type[data-index=\"' + urlTypeIndex + '\"]');\n\n        if ($targetCard.length) {\n          $targetCard.click();\n        } else {\n          $trainingCard[0].click();\n        }\n      }\n    }\n  }, {\n    key: 'handleSelectExecutionOfTraining',\n    value: function handleSelectExecutionOfTraining() {\n      var $executionOfTraining = $('.training-container [name=\"execution_of_training\"]');\n      var $handleExecutionOfTrainingSelect = $('.training-container [name=\"executionOfTrainingSelect\"]');\n\n      // set training_type_id value for form\n      $executionOfTraining.each(function (index, field) {\n        var $trainingContainer = $(field).closest('.training-container');\n        var $selected = $trainingContainer.find('[name=\"executionOfTrainingSelect\"]');\n        var $buyBtn = $trainingContainer.find('.btn-buy-training');\n        var $noTime = $trainingContainer.find('.no_time_select');\n        if ($selected.length) {\n          var eValue = $selected.val();\n          $(field).val(eValue);\n          if (eValue === 'live_video' && $noTime.length) {\n            $buyBtn.addClass('hidden');\n          } else {\n            $buyBtn.remove('hidden');\n          }\n        }\n      });\n\n      // handle on executionOfTraining change\n      $handleExecutionOfTrainingSelect.on('changed.bs.select', function (e, clickedIndex, isSelected) {\n        var val = $(e.target).val();\n        var $trainingContainer = $(e.target).closest('.training-container');\n        var $format = $trainingContainer.find('.training-body-row--format');\n        var $rowDates = $trainingContainer.find('.training-body-row--date');\n        var $rowDuration = $trainingContainer.find('.training-body-row--duration');\n        var $fieldTrainingTypeIdOfForm = $trainingContainer.find('[name=\"execution_of_training\"]');\n        var $cost = $trainingContainer.find('.cost-value');\n        var $trainingInput = $trainingContainer.find('[name=\"training_url\"]');\n        var $timeSelect = $trainingContainer.find('[name=\"time_select\"]');\n        var $timeInput = $trainingContainer.find('[name=\"time\"]');\n        var $timeInputDefault = $trainingContainer.find('[name=\"time_default\"]');\n        var $buyBtn = $trainingContainer.find('.btn-buy-training');\n        var $noTime = $trainingContainer.find('.no_time_select');\n\n        if (val === 'live_video') {\n          $format.removeClass('hidden');\n          $rowDates.removeClass('hidden');\n          $rowDuration.removeClass('hidden');\n          $timeInput.val($timeSelect.val());\n          if ($noTime.length) {\n            $buyBtn.addClass('hidden');\n          }\n        } else {\n          $format.addClass('hidden');\n          $rowDates.addClass('hidden');\n          $rowDuration.addClass('hidden');\n          $timeInput.val($timeInputDefault.val());\n          $buyBtn.removeClass('hidden');\n        }\n        $fieldTrainingTypeIdOfForm.val(val);\n        var $selectOption = $(e.target).find('option').eq(clickedIndex);\n        var costValue = $selectOption.data('cost');\n        $cost.text(costValue);\n\n        var trainingUrlValue = $selectOption.data('url');\n        $trainingInput.val(trainingUrlValue);\n      });\n\n      // handle on date change\n      $(document).on('change', '[name=\"time_select\"]', function () {\n        var val = this.value;\n        var $trainingContainer = $(this).closest('.training-container');\n        var $fieldDateOfForm = $trainingContainer.find('[name=\"time\"]');\n        if ($fieldDateOfForm) {\n          $fieldDateOfForm.val(val);\n        }\n      });\n    }\n  }]);\n  return TrainingsOverviewListingDetailController;\n}(_abstract2.default);\n\nexports.default = TrainingsOverviewListingDetailController;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)))\n\n//# sourceURL=webpack:///./views/pages/trainings-overview-listing-detail/controller/TrainingsOverviewListingDetailController.js?")}}]);